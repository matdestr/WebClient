<error-dialog *ngIf="isError"></error-dialog>

<form (ngSubmit)="onSubmit()">
    <div>
        <label>Organization name</label>
        <input type="text" required #organizationName="ngForm"
            [(ngModel)]="organization.name"
            ngControl="organizationName">
        <div [hidden]="organizationName.valid" class="alert alert-danger">
            Organization name is required
        </div>
    </div>
    
    <fieldset>
        <legend>Organization members</legend>
        <button type="button" class="btn btn-default" (click)="addUserEntry()">
            <span class="glyphicon glyphicon-plus"></span> Add user
        </button>
        
        <div *ngFor="#u of usersToInvite; #i = index">
            <label class="sr-only">User email</label>
            <!--<input type="text" [(value)]="u">-->
            <input type="text" 
                   #userEmail="ngForm"
                   required
                   placeholder="User email" 
                   [(ngModel)]="u.email">
            <span class="glyphicon glyphicon-remove" 
                  aria-hidden="true"
                  (click)="removeUserFromUsersToInvite(i)"></span>
            <div [hidden]="userEmail.valid" class="alert alert-danger">
                User email is required
            </div>
        </div>
    </fieldset>
    
    <input type="submit" class="btn btn-default">
</form>
